{
  "__type__": "cc.TextAsset",
  "_name": "ginrummyproto",
  "text": "package proto;\r\n\r\noption optimize_for = LITE_RUNTIME;\r\noption java_package = \"com.aemobile.patti.room.bean\";\r\noption java_outer_classname = \"GinRummyRoomProto\";\r\n\r\nimport \"roomproto.proto\";\r\nimport \"commonproto.proto\";\r\nimport \"rummyproto.proto\";\r\n\r\n//---------------------------------------------------------------game--------------------------------------------------\r\n//Room Variable\r\n//gift：道具基准价格\r\n//tip：荷官chips\r\n//sc:要达到的分数\r\n//ba:入场费\r\n//pl:当前奖池\r\n//ps:int:pass阶段 0PASS中 1PASS刚结束 2非PASS阶段;\r\n\r\n//User Variable\r\n//cp:long:chips  当前金额\r\n//st:int:status  当前状态WAIT(1),INGAME(2),CHECKWIN(3),DECLARE(4),DROPEDFIRST(5),DROPED(6),WIN(7),FACKWIN(8);\r\n//wc:long:winchips 在房间内赢的钱\r\n//wh:long:winhands 在房间内赢的局数\r\n//gp:gin rummy point value 当前的point value\r\n\r\n\r\n//----CMD ginmatch 匹配房间\r\nmessage GinPlayer{\r\n\trequired int64 userId=1;\r\n\toptional int32 userStatus=2;//玩家状态 0刚匹配成功 1搜索对手中 2已准备 3已离开\r\n\toptional S2C_Base_UserInfo user=3;\r\n}\r\nmessage S2C_Gin_Match{\r\n\trequired int32 gtype=1;//gin模式 1普通 2straight 3oklahoma 4hollywood 5threeplayers 6rummy500 \r\n\trequired int32 rtype=2;//房间模式 1classic 2quick 3private 4challenge\r\n\trequired int32 score=3;\r\n\trequired int64 bet=4;\r\n\toptional int64 pool=5;\r\n\trepeated GinPlayer players = 6;\r\n\trequired int32 matchStatus=7;//匹配状态 0刚匹配成功 1搜索对手中 2等待我接受挑战中\r\n\trequired int64  matchId=8;\r\n\toptional int32 waitSecs=9;\r\n\trequired int32 roomLv=10;//房间等级\r\n}\r\n//---CMD ginresmatch 响应匹配\r\nmessage C2S_Gin_Res_Match{\r\n\trequired int64  matchId=1;\r\n\trequired int32 restype=2;//响应类型 0接受 1准备 2拒绝/离开\r\n}\r\nmessage S2C_Gin_Res_Match{\r\n\trequired int64  matchId=1;\r\n\trequired int32 matchStatus=2;\r\n\trequired GinPlayer player=3;\t\r\n}\r\n//---CMD getchallenges 搜索可挑战的玩家列表\r\nmessage C2S_Get_Challenges{\r\n\trequired int64  matchId=1;\r\n}\r\nmessage S2C_Get_Challenges{\r\n\trequired int64  matchId=1;\r\n\trepeated GinPlayer players=2;\r\n}\r\n//---CMD sendchallenge 向某人挑战\r\nmessage C2S_Send_Challenge{\r\n\trequired int64  matchId=1;\r\n\trequired int64 userId=2;\r\n}\r\nmessage S2C_Send_Challenge{\r\n\trequired S2C_Gin_Match match=1;\r\n}\r\n//---CMD ginpass\r\n//无参\r\n//游戏结束 结算积分\r\n//------------CMD rummyshowintegral\r\nmessage S2C_Gin_ShowIntegral{\r\n\tmessage GinLayoff{\r\n\t\trequired int32 playerId = 1;//被layoff玩家id\r\n\t\trequired int32 groupIdx = 2;//对方玩家牌组中的索引\r\n\t\trepeated int32 cards=3;//可layoff的牌\r\n\t}\r\n    message GinResult {\r\n        required int32 playerId = 1;//玩家id\r\n        required int32 num = 2;//散牌得分\r\n        optional RummyGroup group = 3;//牌的组合情况\r\n        required int64 userId = 4;//玩家用户id\r\n\t\toptional int32 finalscore = 5;//pool 分数\r\n\t\toptional int32 undercut=7;//获得积分\r\n\t\toptional int32 gin=8;//获得积分\r\n\t\toptional int32 biggin=9;//获得积分\r\n\t\trepeated GinLayoff layoffs=10;\r\n    }\r\n    repeated GinResult results = 1; // 下发所有玩家的胜负情况\r\n    required int32 roundId = 2;//当前局的Id，用来处理玩家中途离开，又返回的情况\r\n\trequired int32 knockId = 3;//发起knock的玩家id\r\n}\r\n//------------CMD ginresult\r\nmessage S2C_Gin_Result{\r\n    required int32 roundId = 3;//当前局的Id，用来处理玩家中途离开，又返回的情况\r\n    required int32 order = 1;//名次\r\n    optional int64 win = 2;//奖励\r\n}\r\n"
}